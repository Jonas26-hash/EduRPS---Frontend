.course-page { display: grid; grid-template-rows: auto 1fr; min-height: 100dvh; }
.banner {
  position: relative; background-size: cover; background-position: center; color: #fff;
  padding: 16px 20px 12px; box-shadow: inset 0 0 0 9999px rgba(0,0,0,.35);
}
.banner .ghost.back { position: absolute; top: 14px; left: 12px; }
.banner .banner-meta { margin-left: 36px; }
.banner .title { margin: 6px 0 4px; font-size: 1.6rem; font-weight: 700; }
.chips { display: flex; gap: 8px; }
.chip { background: rgba(255,255,255,.18); border: 1px solid rgba(255,255,255,.3);
  padding: 2px 10px; border-radius: 999px; font-size: .8rem; backdrop-filter: blur(2px); }
.tabs { margin-top: 10px; display: flex; gap: 8px; }
.tabs button { background: rgba(255,255,255,.15); border: 0; color:#fff; padding:6px 12px; border-radius:10px }
.tabs button.active { background:#fff; color:#111 }

.layout { display: grid; grid-template-columns: 340px 1fr; gap: 18px; padding: 18px; }
.rail { background: #f7f9fb; border: 1px solid #e7edf3; border-radius: 14px; padding: 12px; max-height: calc(100dvh - 180px); overflow: auto; }
.unidad-list { display: grid; gap: 8px; margin-bottom: 10px; }
.unidad-item { display:flex; align-items:center; gap:10px; width:100%; border:1px solid #e8eef5; background:#fff; padding:8px 10px; border-radius:12px; }
.unidad-item.active { border-color:#76d0c2; box-shadow: 0 0 0 2px #c9efe9 inset; }
.unidad-item .chip { background:#eaf8f5; border:0; color:#0b7; font-weight:700 }

.subtabs { display:flex; gap:8px; margin: 8px 2px 12px; }
.subtabs button { border:1px solid #e1e7ee; background:#fff; padding:6px 10px; border-radius:10px; }
.subtabs .active { background:#0aa381; color:#fff; border-color:#0aa381 }

.cards { display:grid; gap:10px; }
.card { background:#fff; border:1px solid #e6eef5; border-radius:12px; padding:10px; cursor:pointer }
.card header{ display:flex; justify-content:space-between; align-items:baseline; }
.pill { background:#eef5ff; color:#3573e5; padding:2px 8px; border-radius:999px; font-size:.75rem }
.pill.warn { background:#fff4e6; color:#c46b12 }
.line-2 { display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden }

.mates { display:grid; gap:8px; }
.mate { display:flex; align-items:center; gap:10px; background:#fff; border:1px solid #e7edf3; padding:8px; border-radius:12px }
.mate img { width:28px; height:28px; border-radius:50% }
.avatar { width:28px; height:28px; border-radius:50%; background:#e8f2ff; display:grid; place-items:center; font-size:.8rem; color:#356; }

.stage { position:relative; min-height: 60dvh; display:grid; place-items:center; }
.watermark { width: 420px; max-width: 60%; opacity:.12; filter: grayscale(100%); }

.loading { min-height: 60dvh; display:grid; place-content:center; gap:10px; color:#667; }
.spinner { width:36px; height:36px; border:3px solid #cde; border-top-color:#0aa381; border-radius:50%; animation:spin 1s linear infinite }
@keyframes spin { to { transform: rotate(360deg) } }

@media (max-width: 1024px) {
  .layout { grid-template-columns: 1fr; }
  .rail { order: 2; }
  .stage { order: 1; min-height: 30dvh; }
}
