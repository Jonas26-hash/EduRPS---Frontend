<div class="scrim" *ngIf="open" (click)="closeModal()"></div>

<div class="modal card" *ngIf="open" role="dialog" aria-label="Configuración">
  <header class="modal-top">
    <h3>Configuración</h3>
    <button class="icon" (click)="closeModal()" aria-label="Cerrar">
      <i class="fa fa-times"></i>
    </button>
  </header>

  <section class="section">
    <h4>Apariencia</h4>

    <div class="row">
      <label>Modo oscuro</label>
      <button class="switch" [class.on]="settings.theme==='dark'"
              (click)="setTheme(!(settings.theme==='dark'))"><i></i></button>
    </div>

    <div class="row">
      <label>Tamaño de fuente</label>
      <input type="range" min="90" max="120" step="5"
             [(ngModel)]="settings.fontScale" (change)="persist()"/>
      <span>{{settings.fontScale}}%</span>
    </div>

    <div class="row-colors">
      <label>Color primario</label>
      <div class="swatches">
        <button class="sw green"  [class.sel]="settings.primary==='green'"  title="Verde"  (click)="setPrimary('green')"></button>
        <button class="sw blue"   [class.sel]="settings.primary==='blue'"   title="Azul"   (click)="setPrimary('blue')"></button>
        <button class="sw violet" [class.sel]="settings.primary==='violet'" title="Violeta"(click)="setPrimary('violet')"></button>
        <button class="sw cyan"   [class.sel]="settings.primary==='cyan'"   title="Cian"   (click)="setPrimary('cyan')"></button>
        <button class="sw amber"  [class.sel]="settings.primary==='amber'"  title="Ámbar"  (click)="setPrimary('amber')"></button>
      </div>
    </div>
  </section>

  <section class="section">
    <h4>Sistema</h4>

    <div class="row">
      <label>Notificaciones</label>
      <button class="switch" [class.on]="settings.notifications"
              (click)="settings.notifications=!settings.notifications; persist()"><i></i></button>
    </div>

    <div class="row">
      <label>Idioma</label>
      <select [(ngModel)]="settings.lang" (change)="persist()">
        <option value="es">Español</option>
        <option value="en">English</option>
      </select>
    </div>
  </section>

  <footer class="modal-bottom">
    <button class="btn-primary" (click)="closeModal()">Listo</button>
  </footer>
</div>
